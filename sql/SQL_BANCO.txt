CREATE DATABASE ESTOQUE;
USE ESTOQUE;

CREATE TABLE USUARIOS(
	ID_USUARIO INT PRIMARY KEY AUTO_INCREMENT,
	NOME_USUARIO VARCHAR(50) NOT NULL,
	SENHA_USUARIO VARCHAR(255) NOT NULL
);

CREATE TABLE PRODUTOS(
	ID_PRODUTO INT PRIMARY KEY AUTO_INCREMENT,
	NOME_PRODUTO VARCHAR(50) NOT NULL,
	DESCRICAO_PRODUTO VARCHAR(255) NOT NULL,
	QUANTIDADE INT NOT NULL,
	PRECO_PRODUTO DOUBLE(5,2) NOT NULL,
	ID_USUARIO INT NOT NULL,
	CONSTRAINT FK_PRODUTOS_USUARIOS FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS (ID_USUARIO)    
);
CREATE TABLE VENDA_PRODUTOS (
	ID_VENDA_PRODUTOS INT PRIMARY KEY AUTO_INCREMENT,
	ID_PRODUTO INT NOT NULL,
	QUANTIDADE_VENDA_PRODUTOS INT,
	DATA_VENDA_PRODUTOS DATE NOT NULL,
	CONSTRAINT FK_PRODUTOS_VENDA_PRODUTOS FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTOS (ID_PRODUTO)
);
CREATE TABLE HISTORICO_VENDA_PRODUTOS (
	ID_HISTORICO_VENDA_PRODUTOS INT PRIMARY KEY AUTO_INCREMENT,
	ID_VENDA_PRODUTOS INT NOT NULL,
	VALOR_TOTAL DOUBLE (5,2) NOT NULL,
	CONSTRAINT FK_VENDA_PRODUTOS_HISTORICO_VENDA_PRODUTOS FOREIGN KEY (ID_VENDA_PRODUTOS) REFERENCES VENDA_PRODUTOS (ID_VENDA_PRODUTOS)
);